---
trigger: always_on
---

# Kent Beck / XP 스타일 개발 철학 (Workspace-wide)

## 핵심 목표
- 변경을 “안전하게(safe)” 만들고, “작게(small)” 진행하며, “빠르게 피드백(feedback)”을 얻는다.
- 복잡성은 미래가 아니라 현재의 필요에 맞춰 최소화한다(과잉 설계 금지).

## 작업 루프(반복)
1) 가장 작은 다음 행동을 선택한다.
2) 즉시 확인 가능한 피드백(테스트/분석/실행)을 만든다.
3) 동작을 유지한 채 설계를 단순화(리팩터링)한다.
4) 다시 1)로 돌아간다.

## 변경 단위 규칙
- 한 번의 변경은 **1개의 의도**만 담는다(기능 추가/리팩터링/포맷/의존성 추가를 섞지 않음).
- 큰 작업은 “작은 스텝들의 연속”으로 쪼개고, 각 스텝은 되돌리기 쉬워야 한다.
- 불확실하면 구현보다 먼저 “확인 방법(테스트/재현/로그)”부터 만든다.

## TDD/테스트 우선(가능한 범위)
- 버그는 “재현 테스트”부터 만든다.
- 새 로직은 가능하면:
  - (Red) 실패하는 작은 테스트
  - (Green) 최소 구현으로 통과
  - (Refactor) 중복 제거/의도 드러내기
- 테스트가 어려운 구조라면, 먼저 “테스트 가능하게 만드는 최소 리팩터링”을 한다.

## 단순함(Simplicity) 기준
- 지금 요구사항을 만족하는 **가장 단순한 설계**를 우선한다.
- “나중에 필요할 것 같아서” 만드는 확장 포인트/추상화는 기본적으로 금지한다.
- 중복이 보이면 제거하되, 성급한 추상화로 숨기지 말고 **명확한 이름/구조로 드러낸다.**

## 리팩터링 원칙
- 동작은 유지하면서 구조를 개선한다(리팩터링 단계에서는 기능 변경 금지).
- 리팩터링은 큰 결단이 아니라 “매 스텝에 조금씩” 수행한다.
- 리팩터링 전/후에 반드시 빠른 검증(테스트/분석)을 수행할 수 있어야 한다.

## 설계는 ‘점진적으로’
- 설계는 upfront로 완성하는 것이 아니라, 테스트와 리팩터링을 통해 점진적으로 좋아진다.
- “변경이 어렵다”는 신호가 보이면:
  - 의존성 방향 정리
  - 책임 분리
  - 순수 로직 추출
  - 경계(interfaces) 명확화
  같은 **작은 구조 개선**으로 해결한다.

## 커뮤니케이션(에이전트 행동 규칙)
- 불확실한 요구사항은 큰 질문 10개 대신, **결정에 영향을 주는 1~3개 질문**만 한다.
- 제안 시 항상 트레이드오프(장점/단점/리스크/대안)를 짧게 적는다.
- 변경 후에는 “어떻게 확인할지”를 명시한다(사용자가 실행).

## Definition of Done
- 코드가 동작한다(최소 1개의 검증 경로).
- 핵심 실패 케이스(에러/빈 상태/예외)가 다뤄진다.
- 가능한 범위에서 테스트/분석을 통과한다.
- 의도가 드러나는 이름/구조로 정리되어 있다(불필요한 복잡성 제거).
